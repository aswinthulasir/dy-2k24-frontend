<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/assets/favicon.png">
    <link rel="stylesheet" type="text/css" href="/app.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Sharp:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://kit.fontawesome.com/9dbf0a8c73.js" crossorigin="anonymous"></script>
    <title>Gallery App</title>

</head>

<body style="    animation: none;
background: none;
overflow: scroll;
display: flex;
flex-direction: column;
align-content: center;
align-items: center;
justify-content: flex-start;">

    <div id="gallerya">


    </div>



    <script>

        var parent = window.parent
        function triggerClose() {
            parent.closeGallery();
        }
        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
        else {
            window.onbeforeunload = function () {
                window.scrollTo(0, 0);
            }
        }
        var loc = window.location.href;
        var loc = loc.split('/');
        // console.log(loc[loc.length - 1]);
        var event = (loc[loc.length - 1]).split('&')[0].replace('#', '');
        var picsN = (loc[loc.length - 1]).split('&')[1];
        picsN++;
        var fileType = (loc[loc.length - 1]).split('&')[2];
        console.log(event, picsN, fileType);
        var pics = [];


        var links = [
            {
                link: "https://forms.gle/abcPyT9oKynxENN7A"
            },
            {
                link: "https://forms.gle/ZM8g3Miskf6oDysY7"
            },
            {
                link: "full stack"
            },
            {
                link: "https://rb.gy/h7mi7x"
            },
            {
                link: "https://forms.gle/PutVgwpk3ejXcTE76"
            },
            {
                link: "NO REGISTRATION"
            },
            {
                link: "https://foss.ceal.club/khack"
            },
            {
                link: "https://foss.ceal.club/khack"
            },
            {
                link: "https://foss.ceal.club/khack"
            },
            {
                link: "https://forms.gle/qLBu5WJ5t9qo5Ur66"
            },
            {
                link: "https://forms.gle/12vyTqTrnGeQPn1W8"
            },
            {
                link: "ai art generation"
            },
            {
                link: "https://forms.gle/r4Bu1U6RBMHMHxYK7"
            },
            {
                link: "https://forms.gle/DqhspmMMEovW9o2KA"
            },
            {
                link: "https://forms.gle/1U9yfYeYRbDqS9pu7"
            },
            {
                link: "RJ Hunt"
            },
            {
                link: "RJ Hunt"
            },
            {
                link: "RJ Hunt"
            },
            {
                link: "https://forms.gle/xUFYDVoHjDPRFjHZ6"
            },
            {
                link: "https://forms.gle/xUFYDVoHjDPRFjHZ6"
            },
            {
                link: "https://forms.gle/xUFYDVoHjDPRFjHZ6"
            },
            {
                link: "https://forms.gle/n8MsE2WL5RLERLoQ9"
            },
            {
                link: "https://forms.gle/b5idQmmjXd3AVCj7A"
            },
            {
                link: "https://forms.gle/GXwsgpWe8BepnkKW8"
            },
            {
                link: "https://forms.gle/MBCJ1W8gUr3bhdVk6"
            },
            {
                link: "https://forms.gle/XLWwKvaQrz9kiMW89"
            },
            {
                link: "https://forms.gle/6qvYM7JFtFhChgzW8"
            },
            {
                link: "https://forms.gle/RoKnjDfmTgzbBuhT9"
            },
            {
                link: "https://forms.gle/KTcJLuxu9fEtaata7"
            },
            {
                link: "https://forms.gle/J3S3xK7ugL9oDzw68"
            },
            {
                link: "Impressario"
            },
            {
                link: "Panel Discussion No Registrations"
            },
            {
                link: "https://forms.gle/aGFFMdis7V2FX6aL7"
            }
        ];

        for (let i = 1; i < picsN; i++) {
            pics.push('/assets/' + event + '/' + i + '.' + fileType);
        }
        // console.log(pics);

        for (let i = 0; i < pics.length; i++) {
            document.getElementById('gallerya').innerHTML += '<img src="' + pics[i] + `" style="width: 100%;height: auto;" onclick="MasterGOTO('${links[i].link}')">`;
        }


        messageBlock = {
            event: "loaded",
            data: pics
        }
        picsJson = JSON.stringify(messageBlock);
        picsEncrypt = btoa(picsJson);
        function MasterGOTO(uri) {
            var messageBlock = {
                event: "goto",
                data: uri
            }
            parent.postMessage(btoa(JSON.stringify(messageBlock)), '*');
        }

        localStorage.setItem('msg', picsEncrypt);
        function setTarget(n) {
            messageBlock = {
                event: "target",
                data: n
            }
            picsJson = JSON.stringify(messageBlock);
            picsEncrypt = btoa(picsJson);
            localStorage.setItem('msg', picsEncrypt);
            // parent.postMessage(picsEncrypt, '*');
        }

    </script>
</body>

</html>